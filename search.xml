<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Mermaid ä½¿ç”¨æ•™ç¨‹</title>
      <link href="2020/12/05/mermaid/"/>
      <url>2020/12/05/mermaid/</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p><a href="https://mermaid-js.github.io/mermaid/#/" target="_blank" rel="noopener">å®˜ç½‘æ–‡æ¡£</a></p><p><img src="mermaid-1.png" alt="mermaid"></p><h2 id="æµç¨‹å›¾"><a href="#æµç¨‹å›¾" class="headerlink" title="æµç¨‹å›¾"></a>æµç¨‹å›¾</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TB</span><br><span class="line">    A--&gt;B</span><br><span class="line">    A--&gt;C</span><br><span class="line">    B--&gt;D</span><br><span class="line">    C--&gt;D</span><br></pre></td></tr></table></figure><pre class="mermaid">graph LR    A-->B</pre><h2 id="æ—¶åºå›¾"><a href="#æ—¶åºå›¾" class="headerlink" title="æ—¶åºå›¾"></a>æ—¶åºå›¾</h2><pre class="mermaid">sequenceDiagram    A->>B: hello</pre><h2 id="ç”˜ç‰¹å›¾"><a href="#ç”˜ç‰¹å›¾" class="headerlink" title="ç”˜ç‰¹å›¾"></a>ç”˜ç‰¹å›¾</h2><h2 id="ç±»å›¾"><a href="#ç±»å›¾" class="headerlink" title="ç±»å›¾"></a>ç±»å›¾</h2><h2 id="gitå›¾"><a href="#gitå›¾" class="headerlink" title="gitå›¾"></a>gitå›¾</h2><h2 id="ç”¨æˆ·åœ°å›¾"><a href="#ç”¨æˆ·åœ°å›¾" class="headerlink" title="ç”¨æˆ·åœ°å›¾"></a>ç”¨æˆ·åœ°å›¾</h2>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>äº§å“ç»ç†æ•ˆç‡å·¥å…·</title>
      <link href="2020/12/03/pm-efficiency-tools/"/>
      <url>2020/12/03/pm-efficiency-tools/</url>
      
        <content type="html"><![CDATA[<h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2>]]></content>
      
      
      <categories>
          
          <category> äº§å“ç»ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> äº§å“ç»ç† </tag>
            
            <tag> å·¥å…· </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo-Theme-Snail</title>
      <link href="2019/11/01/Hexo-Theme-Snail/"/>
      <url>2019/11/01/Hexo-Theme-Snail/</url>
      
        <content type="html"><![CDATA[<h1 id="hexo-theme-snail"><a href="#hexo-theme-snail" class="headerlink" title="hexo-theme-snail"></a>hexo-theme-snail</h1><p><a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">View Hexo-Theme-Snail Sources On Github &#10174; </a></p><p><a href="https://www.dusign.net" target="_blank" rel="noopener">View Live Super Snail Blog &#10174;</a></p><p><img src="snail.png" alt="hexo-theme-snail"></p><p>Hexo-theme-snail is a succinct hexo theme. It has two colors, light and star, that can be set according to your own preferences in the settings, and also has the functions of sharing and commenting. More features are under development.</p><h2 id="Features"><a href="#Features" class="headerlink" title="Features"></a>Features</h2><ul><li>light color theme and star theme</li><li>diversified comment system</li><li>notice tips</li><li>share to other platforms (under development)</li><li>picture sharing (under development)</li></ul><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Install-Hexo"><a href="#Install-Hexo" class="headerlink" title="Install Hexo"></a>Install Hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g</span><br></pre></td></tr></table></figure><h3 id="Setup-your-blog"><a href="#Setup-your-blog" class="headerlink" title="Setup your blog"></a>Setup your blog</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init blog</span><br></pre></td></tr></table></figure><h3 id="Installation-Theme"><a href="#Installation-Theme" class="headerlink" title="Installation Theme"></a>Installation Theme</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> blog</span><br><span class="line">$ rm -rf <span class="built_in">source</span></span><br><span class="line">$ rm _config.yml package.json README.md LICENSE</span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/dusign/hexo-theme-snail.git</span><br><span class="line">$ mv ./hexo-theme-snail/snail ./themes</span><br><span class="line">$ mv ./hexo-theme-snail/* ./</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><h3 id="Set-Theme"><a href="#Set-Theme" class="headerlink" title="Set Theme"></a>Set Theme</h3><p>Modify the value of <code>theme:</code> in <code>_config.yml</code><br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">snail</span></span><br></pre></td></tr></table></figure></p><h3 id="Start-the-Server"><a href="#Start-the-Server" class="headerlink" title="Start the Server"></a>Start the Server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><h2 id="Configuration"><a href="#Configuration" class="headerlink" title="Configuration"></a>Configuration</h2><h3 id="Site"><a href="#Site" class="headerlink" title="Site"></a>Site</h3><p>Replace the following information with your own.<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> </span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">At</span> <span class="string">the</span> <span class="string">bottom</span> <span class="string">of</span> <span class="string">the</span> <span class="string">well,</span> <span class="string">it</span> <span class="string">is</span> <span class="string">destined</span> <span class="string">to</span> <span class="string">see</span> <span class="string">only</span> <span class="string">the</span> <span class="string">sky</span> <span class="string">at</span> <span class="string">the</span> <span class="string">wellhead.</span> </span><br><span class="line">          <span class="string">However,</span> <span class="string">the</span> <span class="string">starting</span> <span class="string">point</span> <span class="string">only</span> <span class="string">affects</span> <span class="string">the</span> <span class="string">process</span> <span class="string">of</span> <span class="string">reaching</span> <span class="string">your</span> <span class="string">peak</span> <span class="string">and</span> <span class="string">does</span> <span class="string">not</span> <span class="string">determine</span> <span class="string">the</span> <span class="string">height</span> <span class="string">you</span> <span class="string">reach.</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">Dusign</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">en</span></span><br><span class="line"><span class="attr">timezone:</span></span><br></pre></td></tr></table></figure></p><h3 id="Site-Settings"><a href="#Site-Settings" class="headerlink" title="Site Settings"></a>Site Settings</h3><p>Put customized pictures in <code>img</code> directory.<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site settings</span></span><br><span class="line"><span class="attr">SEOTitle:</span> <span class="string">Hexo-theme-snail</span></span><br><span class="line"><span class="attr">email:</span> <span class="string">hexo-theme-snail@mail.com</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">"A hexo theme"</span></span><br><span class="line"><span class="attr">keyword:</span> <span class="string">"dusign, hexo-theme-snail"</span></span><br><span class="line"><span class="attr">header-img:</span> <span class="string">img/header_img/home-bg-1-dark.jpg</span></span><br><span class="line"><span class="attr">signature:</span> <span class="literal">true</span> <span class="comment">#show signature</span></span><br><span class="line"><span class="attr">signature-img:</span> <span class="string">img/signature/Just-do-it-white.png</span></span><br></pre></td></tr></table></figure></p><h3 id="SNS-Settings"><a href="#SNS-Settings" class="headerlink" title="SNS Settings"></a>SNS Settings</h3><p>If you donâ€™t want to display it, you can delete it directly.<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># SNS settings</span></span><br><span class="line"><span class="attr">github_username:</span>    <span class="string">dusign</span></span><br><span class="line"><span class="attr">twitter_username:</span>   <span class="string">dusignr</span></span><br><span class="line"><span class="attr">facebook_username:</span>  <span class="string">Gang</span> <span class="string">Du</span></span><br><span class="line"><span class="attr">zhihu_username:</span> <span class="string">dusignr</span></span><br></pre></td></tr></table></figure></p><h3 id="Sidebar-Settings"><a href="#Sidebar-Settings" class="headerlink" title="Sidebar Settings"></a>Sidebar Settings</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Sidebar Settings</span></span><br><span class="line"><span class="attr">sidebar:</span> <span class="literal">true</span>                      <span class="comment"># whether or not using Sidebar.</span></span><br><span class="line"><span class="attr">sidebar-about-description:</span> <span class="string">"Welcome to visit, I'm Dusign!"</span></span><br><span class="line"><span class="attr">sidebar-avatar:</span> <span class="string">img/ironman-draw.png</span>      <span class="comment"># use absolute URL, seeing it's used in both `/` and `/about/`</span></span><br><span class="line"><span class="attr">widgets:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">featured-tags</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">short-about</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">recent-posts</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">friends-blog</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">archive</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">category</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># widget behavior</span></span><br><span class="line"><span class="comment">## Archive</span></span><br><span class="line"><span class="attr">archive_type:</span> <span class="string">'monthly'</span></span><br><span class="line"><span class="attr">show_count:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## Featured Tags</span></span><br><span class="line"><span class="attr">featured-tags:</span> <span class="literal">true</span>                     <span class="comment"># whether or not using Feature-Tags</span></span><br><span class="line"><span class="attr">featured-condition-size:</span> <span class="number">1</span>              <span class="comment"># A tag will be featured if the size of it is more than this condition value</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">## Friends</span></span><br><span class="line"><span class="attr">friends:</span> <span class="string">[</span></span><br><span class="line">    <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">"Dusign's Blog"</span><span class="string">,</span></span><br><span class="line">        <span class="attr">href:</span> <span class="string">"https://blog.csdn.net/d_Nail"</span></span><br><span class="line">    <span class="string">&#125;,&#123;</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">"Dusign's Web"</span><span class="string">,</span></span><br><span class="line">        <span class="attr">href:</span> <span class="string">"#"</span></span><br><span class="line">    <span class="string">&#125;,&#123;</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">"Dusign's Github"</span><span class="string">,</span></span><br><span class="line">        <span class="attr">href:</span> <span class="string">"https://github.com/dusign"</span></span><br><span class="line">    <span class="string">&#125;,&#123;</span></span><br><span class="line">        <span class="attr">title:</span> <span class="string">"Other"</span><span class="string">,</span></span><br><span class="line">        <span class="attr">href:</span> <span class="string">"#"</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">]</span></span><br></pre></td></tr></table></figure><h3 id="Theme"><a href="#Theme" class="headerlink" title="Theme"></a>Theme</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">snail</span></span><br></pre></td></tr></table></figure><h3 id="Deployment"><a href="#Deployment" class="headerlink" title="Deployment"></a>Deployment</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">      <span class="attr">github:</span> <span class="string">github.repository.address</span></span><br><span class="line">      <span class="attr">coding:</span> <span class="string">coding.repository.address</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><h3 id="Comment"><a href="#Comment" class="headerlink" title="Comment"></a>Comment</h3><p>See httpymls://github.com/imsun/gitment for detailed configuration method.<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Comment</span></span><br><span class="line"><span class="comment">## This comment system is gitment</span></span><br><span class="line"><span class="comment">## gitment url: https://github.com/imsun/gitment</span></span><br><span class="line"><span class="attr">comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">  <span class="attr">repo:</span></span><br><span class="line">  <span class="attr">client_id:</span></span><br><span class="line">  <span class="attr">client_secret:</span></span><br></pre></td></tr></table></figure></p><h3 id="Tip"><a href="#Tip" class="headerlink" title="Tip"></a>Tip</h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tip</span></span><br><span class="line"><span class="attr">tip:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">content:</span> <span class="string">æ¬¢è¿è®¿é—®</span> <span class="string">&lt;a</span> <span class="string">href="https://www.dusign.net"</span> <span class="string">target="dusign"&gt;dusign&lt;/a&gt;</span> <span class="string">çš„åšå®¢ï¼Œåšå®¢ç³»ç»Ÿä¸€é”®åˆ†äº«çš„åŠŸèƒ½è¿˜åœ¨å®Œå–„ä¸­ï¼Œè¯·å¤§å®¶è€å¿ƒç­‰å¾…ã€‚</span></span><br><span class="line">          <span class="string">è‹¥æœ‰é—®é¢˜æˆ–è€…æœ‰å¥½çš„å»ºè®®æ¬¢è¿ç•™è¨€ï¼Œç¬”è€…çœ‹åˆ°ä¹‹åä¼šåŠæ—¶å›å¤ã€‚</span></span><br><span class="line">          <span class="string">è¯„è®ºç‚¹èµéœ€è¦githubè´¦å·ç™»å½•ï¼Œå¦‚æœæ²¡æœ‰è´¦å·çš„è¯è¯·ç‚¹å‡»</span> </span><br><span class="line">          <span class="string">&lt;a</span> <span class="string">href="https://github.com"</span> <span class="string">target="view_window"</span> <span class="string">&gt;</span> <span class="string">github</span> <span class="string">&lt;/a&gt;</span> <span class="string">æ³¨å†Œï¼Œ</span> <span class="string">è°¢è°¢</span> <span class="string">!</span></span><br></pre></td></tr></table></figure><h3 id="Color-Sheme"><a href="#Color-Sheme" class="headerlink" title="Color Sheme"></a>Color Sheme</h3><p>Set the <code>enable</code> value of the desired color sheme to <code>true</code>. If the value of <code>bg_effects.star.enable</code> is <code>true</code>, please modify the value of <code>highlight_theme</code> in <code>./themes/snail/_config.yml</code> to <code>night</code>.<br><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Color Sheme</span></span><br><span class="line"><span class="comment">## If there is no effect after modification, please empty the cache and try again.</span></span><br><span class="line"><span class="comment">## âš ï¸ The following special effects will take up a lot of cpu resorces, please open it carefully.</span></span><br><span class="line"><span class="attr">bg_effects:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">color:</span> <span class="number">129</span><span class="string">,200,61</span></span><br><span class="line">    <span class="attr">pointColor:</span> <span class="number">129</span><span class="string">,200,61</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">0.7</span></span><br><span class="line">    <span class="attr">zIndex:</span> <span class="number">-9</span></span><br><span class="line">    <span class="attr">count:</span> <span class="number">99</span></span><br><span class="line">  <span class="attr">mouse_click:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">'"ğŸŒ±","just do it","ğŸŒ¾","ğŸ€","don'</span><span class="string">'t give up","ğŸ‚","ğŸŒ»","try it again","ğŸƒ","never say die","ğŸŒµ","ğŸŒ¿","ğŸŒ´"'</span></span><br><span class="line">    <span class="attr">color:</span> <span class="string">'"rgb(121,93,179)"</span></span><br><span class="line"><span class="string">          ,"rgb(76,180,231)"</span></span><br><span class="line"><span class="string">          ,"rgb(184,90,154)"</span></span><br><span class="line"><span class="string">          ,"rgb(157,211,250)"</span></span><br><span class="line"><span class="string">          ,"rgb(255,0,0)"</span></span><br><span class="line"><span class="string">          ,"rgb(242,153,29)"</span></span><br><span class="line"><span class="string">          ,"rgb(23,204,16)"</span></span><br><span class="line"><span class="string">          ,"rgb(222,0,0)"</span></span><br><span class="line"><span class="string">          ,"rgb(22,36,92)"</span></span><br><span class="line"><span class="string">          ,"rgb(127,24,116)"</span></span><br><span class="line"><span class="string">          ,"rgb(119,195,79)"</span></span><br><span class="line"><span class="string">          ,"rgb(4,77,34)"</span></span><br><span class="line"><span class="string">          ,"rgb(122,2,60)"'</span></span><br><span class="line">  <span class="attr">star:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><h2 id="Releases"><a href="#Releases" class="headerlink" title="Releases"></a>Releases</h2><p>V1.0</p><ul><li>fix the bugs</li><li>add comment system</li><li>add notice tips</li><li>add star sheme</li></ul><h2 id="License"><a href="#License" class="headerlink" title="License"></a>License</h2><p>Apache License 2.0 Copyright(c) 2018-2020 <a href="https://github.com/dusign" target="_blank" rel="noopener">Dusign</a>   </p><p><a href="https://github.com/dusign/hexo-theme-snail" target="_blank" rel="noopener">hexo-theme-snail</a> is derived from <a href="https://github.com/Huxpro/huxpro.github.io" target="_blank" rel="noopener">Huxpro</a> Apache License 2.0. Copyright (c) 2015-2020 Huxpro</p>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo-theme-snail </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Mysqlç®€ä»‹</title>
      <link href="2019/08/15/Mysql/"/>
      <url>2019/08/15/Mysql/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•°æ®åº“ç›¸å…³æ¦‚å¿µ"><a href="#æ•°æ®åº“ç›¸å…³æ¦‚å¿µ" class="headerlink" title="æ•°æ®åº“ç›¸å…³æ¦‚å¿µ"></a>æ•°æ®åº“ç›¸å…³æ¦‚å¿µ</h2><ol><li><strong>DB</strong>ï¼šæ•°æ®åº“ï¼Œä¿å­˜ä¸€ç»„æœ‰ç»„ç»‡çš„æ•°æ®å®¹å™¨</li><li><strong>DBMS</strong>ï¼šæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œåˆç§°ä¸ºæ•°æ®åº“è½¯ä»¶ï¼Œç”¨äºç®¡ç† DB ä¸­çš„æ•°æ®ã€‚</li><li><strong>SQL</strong>ï¼šç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ï¼Œç”¨äºå’Œ DMBS é€šä¿¡çš„è¯­è¨€</li></ol><h2 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h2><ul><li>å¯åŠ¨æœåŠ¡<br><code>net start mysql</code></li><li>å…³é—­æœåŠ¡<br><code>net stop mysql</code></li><li>ç™»å½•<br><code>mysql [-h åœ°å€ -p ç«¯å£å·] -u ç”¨æˆ·å -p å¯†ç </code></li><li>é€€å‡º<br><code>exitæˆ–ctrl+C</code></li></ul><h2 id="MySQLçš„è¯­æ³•è§„èŒƒ"><a href="#MySQLçš„è¯­æ³•è§„èŒƒ" class="headerlink" title="MySQLçš„è¯­æ³•è§„èŒƒ"></a>MySQLçš„è¯­æ³•è§„èŒƒ</h2><ol><li>ä¸åŒºåˆ†å¤§å°å†™ï¼Œä½†å»ºè®®å…³é”®è¯å¤§å†™ï¼Œè¡¨æ˜ã€åˆ—åå°å†™</li><li>æ¯æ¡å‘½ä»¤æœ€å¥½åˆ†å·ç»“å°¾</li><li>æ¯æ¡å‘½ä»¤æ ¹æ®éœ€è¦ï¼Œå¯ä»¥è¿›è¡Œç¼©è¿›æˆ–æ¢è¡Œ</li><li>æ³¨é‡Š<ul><li>å•è¡Œæ³¨é‡Šï¼š#æ³¨é‡Šæ–‡å­—   </li><li>å¤šè¡Œæ³¨é‡Šï¼šâ€”æ³¨é‡Šæ–‡å­—</li><li>å¤šè¡Œæ³¨é‡Šï¼š/<em> æ³¨é‡Šæ–‡å­— </em>/ </li></ul></li></ol><h2 id="SQLçš„è¯­è¨€åˆ†ç±»"><a href="#SQLçš„è¯­è¨€åˆ†ç±»" class="headerlink" title="SQLçš„è¯­è¨€åˆ†ç±»"></a>SQLçš„è¯­è¨€åˆ†ç±»</h2><ol><li>DQL ( Data Query Language ) ï¼šæ•°æ®æŸ¥è¯¢è¯­è¨€<br><code>select</code></li><li>DML ( Data Manipulate Language )ï¼šæ•°æ®æ“ä½œè¯­è¨€<br><code>insertã€updateã€delete</code></li><li>DDL ( Data Define Language )ï¼š æ•°æ®å®šä¹‰è¯­è¨€<br><code>createã€dropã€alter</code></li><li>TCL ( Transaction Control Language )ï¼š äº‹ç‰©æ§åˆ¶è¯­è¨€<br><code>commitã€rollback</code></li></ol><h3 id="DQLè¯­è¨€çš„å­¦ä¹ "><a href="#DQLè¯­è¨€çš„å­¦ä¹ " class="headerlink" title="DQLè¯­è¨€çš„å­¦ä¹ "></a>DQLè¯­è¨€çš„å­¦ä¹ </h3><h4 id="åŸºç¡€æŸ¥è¯¢"><a href="#åŸºç¡€æŸ¥è¯¢" class="headerlink" title="åŸºç¡€æŸ¥è¯¢"></a>åŸºç¡€æŸ¥è¯¢</h4><p>ä½¿ç”¨ <code>SELECT</code> è¯­å¥ä»è¡¨æˆ–è§†å›¾è·å–æ•°æ®ã€‚è¡¨ç”±è¡Œå’Œåˆ—ç»„æˆï¼Œå¦‚ç”µå­è¡¨æ ¼ã€‚ é€šå¸¸ï¼Œæˆ‘ä»¬åªå¸Œæœ›çœ‹åˆ°å­é›†è¡Œï¼Œåˆ—çš„å­é›†æˆ–ä¸¤è€…çš„ç»„åˆã€‚ <code>SELECT</code> è¯­å¥çš„ç»“æœç§°ä¸ºç»“æœé›†ï¼Œå®ƒæ˜¯è¡Œåˆ—è¡¨ï¼Œæ¯è¡Œç”±ç›¸åŒæ•°é‡çš„åˆ—ç»„æˆã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">    è¡¨å</span><br></pre></td></tr></table></figure><p>é€šè¿‡ select æŸ¥è¯¢å®Œçš„ç»“æœï¼Œæ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„è¡¨æ ¼ï¼Œä¸æ˜¯çœŸå®å­˜åœ¨çš„</p><h4 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h4><p>æ ¹æ®æ¡ä»¶è¿‡æ»¤åŸå§‹è¡¨çš„æ•°æ®ï¼ŒæŸ¥è¯¢åˆ°æƒ³è¦çš„æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    æ¡ä»¶</span><br></pre></td></tr></table></figure><p>ä¸‹åˆ—è¡¨åˆ—å‡ºäº†å¯ç”¨äºåœ¨ <code>WHERE</code> å­å¥ä¸­å½¢æˆè¿‡æ»¤è¡¨è¾¾å¼çš„æ¯”è¾ƒè¿ç®—ç¬¦</p><div class="table-container"><table><thead><tr><th>æ“ä½œç¬¦</th><th>æè¿°</th></tr></thead><tbody><tr><td><code>=</code></td><td>ç­‰äºï¼Œå‡ ä¹ä»»ä½•æ•°æ®ç±»å‹éƒ½å¯ä»¥ä½¿ç”¨å®ƒ</td></tr><tr><td><code>&lt;&gt;</code> æˆ–<code>!=</code></td><td>ä¸ç­‰äº</td></tr><tr><td><code>&lt;</code></td><td>å°äºï¼Œé€šå¸¸ä½¿ç”¨æ•°å­—å’Œæ—¥æœŸ/äº‹ä»¶æ•°æ®ç±»å‹</td></tr><tr><td><code>&gt;</code></td><td>å¤§äº</td></tr><tr><td><code>&lt;=</code></td><td>å°äºæˆ–ç­‰äº</td></tr><tr><td><code>&gt;=</code></td><td>å¤§äºæˆ–ç­‰äº</td></tr><tr><td><code>and(&amp;&amp;)</code></td><td>ä¸¤ä¸ªæ¡ä»¶å¦‚æœåŒæ—¶æˆç«‹ï¼Œç»“æœä¸º trueï¼Œå¦åˆ™ä¸º false</td></tr><tr><td>`or(</td><td></td><td>)`</td><td>ä¸¤ä¸ªæ¡ä»¶åªè¦æœ‰ä¸€ä¸ªæˆç«‹ï¼Œç»“æœä¸º trueï¼Œå¦åˆ™ä¸º false</td></tr><tr><td><code>not(!)</code></td><td>å¦‚æœæ¡ä»¶æˆç«‹ï¼Œåˆ™ not åä¸º falseï¼Œå¦åˆ™ä¸º true</td></tr></tbody></table></div><p>è¿˜æœ‰ä¸€äº›æœ‰ç”¨çš„è¿ç®—ç¬¦å¯ä»¥åœ¨<code>WHERE</code>å­å¥ä¸­ä½¿ç”¨æ¥å½¢æˆæ›´å¤æ‚çš„æ¡ä»¶ï¼Œä¾‹å¦‚ï¼š</p><ul><li><a href="#####BETWEEN">BETWEEN</a>ï¼šé€‰æ‹©åœ¨æ›´å®šèŒƒå›´å†…çš„å€¼</li><li><a href="#####LIKE">LIKE</a>ï¼šåŒ¹é…åŸºäºæ¨¡å¼åŒ¹é…çš„å€¼</li><li><a href="#####IN">IN</a>ï¼šæŒ‡å®šå€¼æ˜¯å¦åŒ¹é…åˆ—è¡¨ä¸­çš„ä»»ä½•å€¼</li><li><code>IS NULL</code>ï¼šæ£€æŸ¥è¯¥å€¼æ˜¯å¦ä¸º <code>NULL</code></li></ul><h5 id="BETWEEN"><a href="#BETWEEN" class="headerlink" title="BETWEEN"></a>BETWEEN</h5><p>BETWEENè¿ç®—ç¬¦å…è®¸æŒ‡å®šè¦æµ‹è¯•çš„å€¼èŒƒå›´ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">BETWEEN</span> <span class="number">90</span> <span class="keyword">AND</span> <span class="number">100</span>;</span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨å¤§äºæˆ–ç­‰äºï¼ˆ &gt;= ï¼‰å’Œå°äºæˆ–ç­‰äºï¼ˆ &lt;= ï¼‰è¿ç®—ç¬¦æ¥å®ç°ç›¸åŒçš„ç»“æœ</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line">    A&gt;=<span class="number">90</span> <span class="keyword">AND</span> A&lt;=<span class="number">100</span>;</span><br></pre></td></tr></table></figure><p>è¦æŸ¥æ‰¾ A ä¸åœ¨ 20 åˆ° 100ï¼ˆå« 20 åˆ° 100 ï¼‰ä¹‹é—´çš„ï¼Œå¯å°† BETWEEN è¿ç®—ç¬¦ä¸ NOT è¿ç®—ç¬¦ç»„åˆä½¿ç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line">    A <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">æˆ–</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line">    A &lt; <span class="number">20</span> <span class="keyword">OR</span> buyPrice &gt; <span class="number">100</span>;</span><br></pre></td></tr></table></figure><h5 id="LIKE"><a href="#LIKE" class="headerlink" title="LIKE"></a>LIKE</h5><p>LIKE æ“ä½œç¬¦é€šå¸¸ç”¨äºåŸºäºæ¨¡å¼æŸ¥è¯¢é€‰æ‹©æ•°æ®ã€‚ä»¥æ­£ç¡®çš„æ–¹å¼ä½¿ç”¨ LIKE è¿ç®—ç¬¦å¯¹äºå¢åŠ  / å‡å°‘æŸ¥è¯¢æ€§èƒ½è‡³å…³é‡è¦ã€‚</p><ul><li>% ï¼šå…è®¸åŒ¹é…ä»»ä½•å­—ç¬¦ä¸²çš„é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦</li><li>_ : å…è®¸åŒ¹é…ä»»ä½•å•ä¸ªå­—ç¬¦</li></ul><p>å‡è®¾è¦æœç´¢åå­—ä»¥å­—ç¬¦aå¼€å¤´çš„å‘˜å·¥ä¿¡æ¯ï¼Œå¯ä»¥åœ¨æ¨¡å¼æœ«å°¾ä½¿ç”¨ç™¾åˆ†æ¯”é€šé…ç¬¦ï¼ˆï¼…ï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    column1,column2,...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    column1 <span class="keyword">LIKE</span> <span class="string">'a%'</span>;</span><br></pre></td></tr></table></figure><p>å¦‚æœçŸ¥é“è¦æœç´¢åŒ…å«æŒ‡å®šå­—ç¬¦ä¸²ï¼Œåˆ™å¯ä»¥åœ¨æ¨¡å¼çš„å¼€å¤´å’Œç»“å°¾ä½¿ç”¨ç™¾åˆ†æ¯”ï¼ˆ%ï¼‰é€šé…ç¬¦ã€‚<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    column1,column2,...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    column1 <span class="keyword">LIKE</span> <span class="string">'%on%'</span>;</span><br></pre></td></tr></table></figure></p><p>è¦æŸ¥æ‰¾åå­—ä»¥ T å¼€å¤´çš„å‘˜å·¥ï¼Œä»¥ m ç»“å°¾ï¼Œå¹¶ä¸”åŒ…å«ä¾‹å¦‚ Tomï¼ŒTim ä¹‹é—´çš„ä»»ä½•å•ä¸ªå­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿é€šé…ç¬¦æ¥æ„å»ºæ¨¡å¼<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    column1,column2,...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    column1 <span class="keyword">LIKE</span> <span class="string">'T_m'</span>;</span><br></pre></td></tr></table></figure></p><ul><li>MySQL å…è®¸å°† NOT è¿ç®—ç¬¦ä¸LIKEè¿ç®—ç¬¦ç»„åˆï¼Œä»¥æ‰¾åˆ°ä¸åŒ¹é…ç‰¹å®šæ¨¡å¼çš„å­—ç¬¦ä¸²ã€‚  </li><li>æœ‰æ—¶æƒ³è¦åŒ¹é…çš„æ¨¡å¼åŒ…å«é€šé…ç¬¦ï¼Œä¾‹å¦‚ 10%ï¼Œ_20 ç­‰è¿™æ ·çš„å­—ç¬¦ä¸²æ—¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ ESCAPE å­å¥æŒ‡å®šè½¬ä¹‰å­—ç¬¦ï¼Œä»¥ä¾¿ MySQL å°†é€šé…ç¬¦è§£é‡Šä¸ºæ–‡å­—å­—ç¬¦ã€‚å¦‚æœæœªæ˜ç¡®æŒ‡å®šè½¬ä¹‰å­—ç¬¦ï¼Œåˆ™åæ–œæ å­—ç¬¦\æ˜¯é»˜è®¤è½¬ä¹‰å­—ç¬¦ã€‚</li></ul><h5 id="IN"><a href="#IN" class="headerlink" title="IN"></a>IN</h5><p>IN è¿ç®—ç¬¦å…è®¸æ‚¨ç¡®å®šæŒ‡å®šçš„å€¼æ˜¯å¦ä¸åˆ—è¡¨ä¸­çš„å€¼æˆ–å­æŸ¥è¯¢ä¸­çš„ä»»ä½•å€¼åŒ¹é…ã€‚ ä¸‹é¢è¯´æ˜äº† IN æ“ä½œç¬¦çš„è¯­æ³•ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    column1,column2,...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    table_name</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    (expr|column_1) <span class="keyword">IN</span> (<span class="string">'value1'</span>,<span class="string">'value2'</span>,...);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢æˆ‘ä»¬æ›´è¯¦ç»†çš„æ¥çœ‹çœ‹ä¸Šé¢çš„æŸ¥è¯¢</p><ul><li>å¯ä»¥åœ¨ <code>WHERE</code> ä¸­äº <code>IN</code> è¿ç®—ç¬¦ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åˆ—æˆ–è¡¨è¾¾å¼ï¼ˆexprï¼‰</li><li>åˆ—è¡¨ä¸­çš„å€¼å¿…é¡»ç”¨é€—å·(<code>,</code>)éš”å¼€</li><li><code>IN</code>æ“ä½œç¬¦å¯ä»¥ç”¨åœ¨å…¶ä»–è¯­å¥(å¦‚<code>INSERT</code>,<code>UPDATE</code>,<code>delete</code>)çš„WHEREå­å¥ä¸­</li><li>å¦‚æœcolumn_1çš„å€¼æˆ–exprè¡¨è¾¾å¼çš„ç»“æœç­‰äºåˆ—è¡¨ä¸­çš„ä»»ä½•å€¼ï¼Œåˆ™INè¿ç®—ç¬¦è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚</li></ul><blockquote><p>å¦‚æœcolumn_1çš„å€¼æˆ–exprè¡¨è¾¾å¼çš„ç»“æœç­‰äºåˆ—è¡¨ä¸­çš„ä»»ä½•å€¼ï¼Œåˆ™INè¿ç®—ç¬¦è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚</p></blockquote><h5 id="INä¸å­æŸ¥è¯¢"><a href="#INä¸å­æŸ¥è¯¢" class="headerlink" title="INä¸å­æŸ¥è¯¢"></a>INä¸å­æŸ¥è¯¢</h5><p><code>IN</code> è¿ç®—ç¬¦é€šå¸¸ç”¨äºå­æŸ¥è¯¢ã€‚å­æŸ¥è¯¢ä¸æä¾›å¸¸é‡å€¼åˆ—è¡¨ï¼Œè€Œæ˜¯æä¾›å€¼åˆ—è¡¨ã€‚<br>æˆ‘ä»¬æ¥çœ‹ä¸¤å¼ è¡¨ï¼š<code>orders</code> å’Œ <code>orderDetails</code> è¡¨çš„ç»“æ„ä»¥åŠå®ƒä»¬ä¹‹é—´çš„å…³ç³»ï¼š<br><img src="MySQL/in.png" alt="in"></p><p>ä¾‹å¦‚ï¼Œå¦‚æœè¦æŸ¥æ‰¾æ€»é‡‘é¢å¤§äº60000çš„è®¢å•ï¼Œåˆ™ä½¿ç”¨ <code>IN</code> è¿ç®—ç¬¦æŸ¥è¯¢å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    orderNumber, customerNumber, <span class="keyword">status</span>, shippedDate</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    orders</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    orderNumber <span class="keyword">IN</span> (<span class="keyword">SELECT</span> </span><br><span class="line">            orderNumber</span><br><span class="line">        <span class="keyword">FROM</span></span><br><span class="line">            orderDetails</span><br><span class="line">        <span class="keyword">GROUP</span> <span class="keyword">BY</span> orderNumber</span><br><span class="line">        <span class="keyword">HAVING</span> <span class="keyword">SUM</span>(quantityOrdered * priceEach) &gt; <span class="number">60000</span>);</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„æ•´ä¸ªæŸ¥è¯¢å¯ä»¥åˆ†ä¸º2ä¸ªæŸ¥è¯¢</p><ol><li>é¦–å…ˆï¼Œå­æŸ¥è¯¢ä½¿ç”¨ <code>orderDetails</code> è¡¨ä¸­çš„ <code>GROUP BY</code> å’Œ <code>HAVINGå­å¥</code> è¿”å›æ€»é¢å¤§äº 60000 çš„è®¢å•åˆ—è¡¨ã€‚</li><li>ä¸»æŸ¥è¯¢<code>order</code>è¡¨ä¸­è·å–æ•°æ®ï¼Œå¹¶åœ¨<code>WHERE</code>å­å¥ä¸­åº”ç”¨<code>IN</code>è¿ç®—ç¬¦</li></ol><h4 id="æ’åºæŸ¥è¯¢"><a href="#æ’åºæŸ¥è¯¢" class="headerlink" title="æ’åºæŸ¥è¯¢"></a>æ’åºæŸ¥è¯¢</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    å­—æ®µ|è¡¨è¾¾å¼|å¸¸é‡å€¼|å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    tableName</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    æ¡ä»¶</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">    æ’åºçš„å­—æ®µ|è¡¨è¾¾å¼|å‡½æ•°|åˆ«åã€<span class="keyword">asc</span>|<span class="keyword">desc</span>ã€‘</span><br></pre></td></tr></table></figure><h4 id="åˆ†ç»„æŸ¥è¯¢"><a href="#åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢"></a>åˆ†ç»„æŸ¥è¯¢</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    æŸ¥è¯¢çš„å­—æ®µï¼Œåˆ†ç»„å‡½æ•°</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    è¡¨</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> </span><br><span class="line">    åˆ†ç»„çš„å­—æ®µ</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥æŒ‰å•ä¸ªå­—æ®µåˆ†ç»„</li><li>å’Œåˆ†ç»„å‡½æ•°ä¸€åŒæŸ¥è¯¢çš„å­—æ®µæœ€å¥½æ˜¯åˆ†ç»„åçš„å­—æ®µ    </li></ul><p>ç‰¹ç‚¹ï¼š</p><ol><li>åˆ†ç»„æŸ¥è¯¢ä¸­çš„ç­›é€‰æ¡ä»¶åˆ†ä¸ºä¸¤ç±»  </li></ol><div class="table-container"><table><thead><tr><th>åˆ†ç»„ç­›é€‰</th><th>é’ˆå¯¹çš„è¡¨</th><th>ä½ç½®</th><th>å…³é”®å­—</th></tr></thead><tbody><tr><td>åˆ†ç»„å‰ç­›é€‰</td><td>åŸå§‹è¡¨</td><td>group byçš„å‰é¢</td><td>where</td></tr><tr><td>åˆ†ç»„åçš„ç­›é€‰</td><td>åˆ†ç»„åçš„ç»“æœé›†</td><td>group byçš„åé¢</td><td>having</td></tr></tbody></table></div><ol><li>å¯ä»¥æŒ‰å¤šä¸ªå­—æ®µåˆ†ç»„ï¼Œå­—æ®µä¹‹é—´ç”¨é€—å·éš”å¼€</li><li>å¯ä»¥æ”¯æŒæ’åºï¼ˆæ’åºæ”¾åœ¨æ•´ä¸ªåˆ†ç»„æŸ¥è¯¢åé¢ï¼‰</li><li>having åå¯ä»¥æ”¯æŒåˆ«å</li></ol><h5 id="å¸¸è§å‡½æ•°"><a href="#å¸¸è§å‡½æ•°" class="headerlink" title="å¸¸è§å‡½æ•°"></a>å¸¸è§å‡½æ•°</h5><table>    <tr>        <th colspan="2">å•è¡Œå‡½æ•°</th>        <th>å«ä¹‰</th>         </tr>    <tr>        <td rowspan="12">å­—ç¬¦å‡½æ•°</td>        <td>concat</td>        <td>æ‹¼æ¥</td>    </tr>    <tr>        <td>substr</td>        <td>æˆªå–å­ä¸²</td>    </tr>    <tr>        <td>upper</td>        <td>è½¬æ¢æˆå¤§å†™</td>    </tr>    <tr>        <td>lower</td>        <td>è½¬æ¢æˆå°å†™</td>    </tr>    <tr>        <td>trim</td>        <td>å»å‰åæŒ‡å®šçš„ç©ºæ ¼å’Œå­—ç¬¦</td>    </tr>    <tr>        <td>ltrim</td>        <td>å»å·¦è¾¹ç©ºæ ¼</td>    </tr>    <tr>        <td>rtrim</td>        <td>å»å³è¾¹ç©ºæ ¼</td>    </tr>    <tr>        <td>replace</td>        <td>æ›¿æ¢</td>    </tr>    <tr>        <td>replace</td>        <td>æ›¿æ¢</td>    </tr>    <tr>        <td>lpad</td>        <td>å·¦å¡«å……</td>    </tr>    <tr>        <td>rpad</td>        <td>å³å¡«å……</td>    </tr>    <tr>        <td>instr</td>        <td>è¿”å›å­—ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•</td>    </tr>    <tr>        <td rowspan="6">æ•°å­¦å‡½æ•°</td>        <td>round</td>        <td>å››èˆäº”å…¥</td>    </tr>    <tr>            <td>rand</td>        <td>éšæœºæ•°</td>    </tr>    <tr>          <td>floor</td>        <td>å‘ä¸‹å–æ•´</td>    </tr>    <tr>        <td>ceil</td>        <td>å‘ä¸Šå–æ•´</td>    </tr>    <tr>        <td>mod</td>        <td>å–ä½™</td>    </tr>    <tr>        <td>ceil</td>        <td>æˆªæ–­</td>    </tr>    <tr>        <td rowspan="5">æ—¥æœŸå‡½æ•°</td>        <td>now</td>        <td>å½“å‰ç³»ç»Ÿæ—¥æœŸ+æ—¶é—´</td>    </tr>    <tr>        <td>curdate</td>        <td>å½“å‰ç³»ç»Ÿæ—¥æœŸ</td>    </tr>    <tr>        <td>curtime</td>        <td>å½“å…ˆç³»ç»Ÿæ—¶é—´</td>    </tr>    <tr>        <td>str_to_date</td>        <td>å°†å­—ç¬¦è½¬æ¢æˆæ—¥æœŸ</td>    </tr>    <tr>        <td>date_format</td>        <td>å°†æ—¥æœŸå‡†æ¢æˆå­—ç¬¦</td>    </tr>    <tr>        <td rowspan="2">æµç¨‹æ§åˆ¶å‡½æ•°</td>        <td>if</td>        <td>å¤„ç†åŒåˆ†æ”¯</td>    </tr>    <tr>        <td>case</td>        <td>å¤„ç†å¤šåˆ†æ”¯</td>    </tr>    <tr>        <td rowspan="3">å…¶ä»–å‡½æ•°</td>        <td>version</td>        <td>ç‰ˆæœ¬</td>    </tr>    <tr>        <td>database</td>        <td>å½“å‰åº“</td>    </tr>    <tr>        <td>user</td>        <td>å½“å‰è¿æ¥ç”¨æˆ·</td>    </tr>    <tr>        <td rowspan="4">åˆ†ç»„å‡½æ•°</td>        <td>sum</td>        <td>æ±‚å’Œ</td>     </tr>    <tr>        <td>max</td>        <td>æœ€å¤§å€¼</td>     </tr>    <tr>        <td>min</td>        <td>æœ€å°å€¼</td>     </tr>    <tr>        <td>avg</td>        <td>å¹³å‡å€¼</td>     </tr></table><blockquote><ol><li>ä»¥ä¸Šäº”ä¸ªåˆ†ç»„å‡½æ•°éƒ½å¿½ç•¥nullå€¼ï¼Œé™¤äº†count(*)</li><li>sumå’Œavgä¸€èˆ¬ç”¨äºå¤„ç†æ•°å€¼å‹ï¼›maxã€minã€countå¯ä»¥ä»»ä½•æ•°æ®ç±»å‹</li><li>éƒ½å¯ä»¥æ­é…DISTINCTä½¿ç”¨ï¼Œç”¨äºç»Ÿè®¡å»é‡åçš„ç»“æœ</li><li>countçš„å‚æ•°å¯ä»¥æ”¯æŒå­—æ®µã€â€™*ã€å¸¸é‡å€¼ã€ä¸€èˆ¬æ”¾1</li></ol></blockquote><p>å‚è€ƒï¼šã€æ˜“ç™¾æ•™ç¨‹ã€‘ï¼š<a href="https://www.yiibai.com/mysql/sql-in.html" target="_blank" rel="noopener">https://www.yiibai.com/mysql/sql-in.html</a></p><h4 id="å¤šè¡¨è¿æ¥æŸ¥è¯¢"><a href="#å¤šè¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨è¿æ¥æŸ¥è¯¢"></a>å¤šè¡¨è¿æ¥æŸ¥è¯¢</h4><p>ç¬›å¡å°”ç§¯ï¼šæ²¡æœ‰è¿æ¥æ¡ä»¶è¡¨å…³ç³»è¿”å›çš„ç»“æœ</p><p>è¿æ¥ç”¨äºè¿æ¥å¤šä¸ªè¡¨ï¼Œä½¿ç”¨JOINå…³é”®å­—ï¼Œå¹¶ä¸”æ¡ä»¶è¯­å¥ä½¿ç”¨ONè€Œä¸æ—¶WHEREã€‚è¿æ¥å¯ä»¥æ›¿æ¢å­æŸ¥è¯¢ï¼Œå¹¶ä¸”æ¯”å­æŸ¥è¯¢çš„æ•ˆç‡ä¸€èˆ¬ä¼šæ›´å¿«ã€‚å¯ä»¥ç”¨ASç»™åˆ—åã€è®¡ç®—å­—æ®µå’Œè¡¨åå–åˆ«åï¼Œç»™è¡¨æ˜å–åˆ«åæ˜¯ä¸ºäº†ç®€åŒ–SQLè¯­å¥åŠè¿æ¥ç›¸åŒè¡¨ã€‚</p><p>è¿æ¥ï¼š</p><ul><li>å†…è¿æ¥<ul><li>ç­‰å€¼è¿æ¥</li><li>éç­‰å€¼è¿æ¥</li><li>è‡ªè¿æ¥</li></ul></li><li>å¤–è¿æ¥ <ul><li>å·¦å¤–è¿æ¥</li><li>å³å¤–è¿æ¥</li><li>å…¨å¤–è¿æ¥</li></ul></li><li>äº¤å‰è¿æ¥</li></ul><h5 id="å†…è¿æ¥-INNER-JOIN"><a href="#å†…è¿æ¥-INNER-JOIN" class="headerlink" title="å†…è¿æ¥(INNER JOIN)"></a>å†…è¿æ¥(INNER JOIN)</h5><p><code>INNER JOIN</code> å­å¥å°†ä¸€ä¸ªè¡¨ä¸­çš„è¡Œä¸å…¶ä»–è¡¨ä¸­çš„è¡Œè¿›è¡ŒåŒ¹é…ï¼Œå¹¶å…è®¸ä»ä¸¤ä¸ªè¡¨ä¸­æŸ¥è¯¢åŒ…å«åˆ—çš„è¡Œè®°å½•ã€‚<br>åœ¨ä½¿ç”¨æ—¶ï¼Œå¿…é¡»æŒ‡å®šä»¥ä¸‹æ¡ä»¶ï¼š</p><ul><li>é¦–å…ˆï¼Œåœ¨FROMå­å¥ä¸­æŒ‡å®šä¸»è¡¨</li><li>å…¶æ¬¡ï¼Œè¡¨ä¸­è¦è¿æ¥çš„ä¸»è¡¨åº”è¯¥å‡ºç°åœ¨<code>INNER JOIN</code>å­å¥ä¸­ã€‚ç†è®ºä¸Šè¯´ï¼Œå¯ä»¥è¿æ¥å¤šä¸ªå…¶ä»–è¡¨ã€‚ä½†æ˜¯ï¼Œä¸ºäº†è·å¾—æ›´å¥½çš„æ€§èƒ½ï¼Œåº”è¯¥é™åˆ¶è¦è¿æ¥çš„è¡¨çš„æ•°é‡(ä¸è¶…è¿‡3ä¸ªè¡¨)</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    æŸ¥è¯¢åˆ—è¡¨</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    è¡¨<span class="number">1</span> åˆ«å</span><br><span class="line"><span class="keyword">INNER</span> <span class="keyword">JOIN</span> è¡¨<span class="number">2</span> åˆ«å</span><br><span class="line"><span class="keyword">ON</span>  </span><br><span class="line">    è¿æ¥æ¡ä»¶</span><br></pre></td></tr></table></figure><p>å¯ä»¥ä¸æ˜ç¡®ä½¿ç”¨<code>INNER JOIN</code>,è€Œä½¿ç”¨æ™®é€šæŸ¥è¯¢åœ¨<code>WHERE</code>ä¸­ä¸¤ä¸ªè¡¨è¦è¿æ¥çš„åˆ—ç”¨ç­‰å€¼æ–¹æ³•è¿æ¥èµ·æ¥<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    A.value,B.value</span><br><span class="line"><span class="keyword">FROM</span>  </span><br><span class="line">    tablea <span class="keyword">AS</span> A, tableb <span class="keyword">AS</span> B</span><br><span class="line"><span class="keyword">WHERE</span> A.key = B.key;</span><br></pre></td></tr></table></figure></p><h5 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h5><p>è‡ªè¿æ¥å¯ä»¥çœ‹æˆå†…è¿æ¥çš„ä¸€ç§ï¼ŒçŸ¥è¯†è¿æ¥çš„è¡¨æ˜¯è‡ªèº«è€Œå·²<br>ä¸€å¼ å‘˜å·¥è¡¨ï¼ŒåŒ…å«å‘˜å·¥å§“åå’Œå‘˜å·¥æ‰€å±éƒ¨é—¨ï¼Œè¦æ‰¾å‡ºJimå¤„åœ¨åŒä¸€éƒ¨é—¨çš„æ‰€æœ‰æˆå‘˜å§“å<br>å­æŸ¥è¯¢ç‰ˆæœ¬ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    namea</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    department=(</span><br><span class="line">        <span class="keyword">SELECT</span> </span><br><span class="line">            department</span><br><span class="line">        <span class="keyword">FROM</span></span><br><span class="line">            employee</span><br><span class="line">        <span class="keyword">WHERE</span> </span><br><span class="line">            namea=<span class="string">"Jim"</span>);</span><br></pre></td></tr></table></figure></p><p>è‡ªè¿æ¥ç‰ˆæœ¬<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">    e1.name</span><br><span class="line"><span class="keyword">FROM</span> </span><br><span class="line">   employee <span class="keyword">AS</span> e1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> employee <span class="keyword">AS</span> e2</span><br><span class="line"><span class="keyword">ON</span></span><br><span class="line">    e1.department = e2.department</span><br><span class="line"><span class="keyword">AND</span> e2.name = <span class="string">"Jim"</span>;</span><br></pre></td></tr></table></figure></p><h4 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h4><p>å¤–è¿æ¥æŸ¥è¯¢ä¼šè¿”å›æ“ä½œè¡¨ä¸­è‡³å°‘ä¸€ä¸ªè¡¨çš„æ‰€æœ‰æ•°æ®è®°å½•</p><h5 id="å·¦å¤–è¿æ¥"><a href="#å·¦å¤–è¿æ¥" class="headerlink" title="å·¦å¤–è¿æ¥"></a>å·¦å¤–è¿æ¥</h5><p>æŒ‡æ–°å…³ç³»æ‰§è¡ŒåŒ¹é…æ—¶ï¼Œä»¥å…³æœºå†LEFT JOINå·¦è¾¹çš„æ ‡ä¸ºå‚è€ƒè¡¨<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    å­—æ®µï¼Œ...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    è¡¨<span class="number">1</span>ï¼Œ</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> è¡¨<span class="number">2</span> </span><br><span class="line"><span class="keyword">ON</span> </span><br><span class="line">    è¿æ¥æ¡ä»¶</span><br></pre></td></tr></table></figure></p><h5 id="å³å¤–è¿æ¥"><a href="#å³å¤–è¿æ¥" class="headerlink" title="å³å¤–è¿æ¥"></a>å³å¤–è¿æ¥</h5><p>æŒ‡æ–°å…³ç³»æ‰§è¡ŒåŒ¹é…æ—¶ï¼Œä»¥å…³æœºå†RIGHT JOINå·¦è¾¹çš„æ ‡ä¸ºå‚è€ƒè¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    å­—æ®µï¼Œ...</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    è¡¨<span class="number">1</span>ï¼Œ</span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> è¡¨<span class="number">2</span> </span><br><span class="line"><span class="keyword">ON</span> </span><br><span class="line">    è¿æ¥æ¡ä»¶</span><br></pre></td></tr></table></figure><h4 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h4><p>å­æŸ¥è¯¢æ˜¯åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢ä¸­çš„æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç§°ä¸ºå†…éƒ¨æŸ¥è¯¢ï¼Œè€ŒåŒ…å«å­æŸ¥è¯¢çš„æŸ¥è¯¢ç§°ä¸ºå¤–éƒ¨æŸ¥è¯¢ã€‚å­æŸ¥è¯¢å¯ä»¥åœ¨ä½¿ç”¨è¡¨è¾¾å¼çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…é¡»åœ¨æ‹¬å·ä¸­å…³é—­ã€‚MySQLæ¨èä½¿ç”¨å­æŸ¥è¯¢æ¥å®ç°å¤šè¡¨æŸ¥è¯¢æ•°æ®è®°å½•ï¼Œä¸å»ºè®®ä½¿ç”¨è¿æ¥æŸ¥è¯¢ã€‚</p><p>ç‰¹ç‚¹ï¼š</p><ul><li>å­æŸ¥è¯¢éƒ½æ”¾åœ¨å°æ‹¬å·å†…</li><li>å­æŸ¥è¯¢å¯ä»¥æ”¾åœ¨ from åé¢ã€select åé¢ã€where åé¢ã€having åç±³å¨œã€ä½†ä¸€èˆ¬æ”¾åœ¨æ¡ä»¶çš„å³ä¾§</li><li>å­æŸ¥è¯¢ä¼˜å…ˆäºä¸»æŸ¥è¯¢æ‰§è¡Œï¼Œä¸»æŸ¥è¯¢ä½¿ç”¨äº†å­æŸ¥è¯¢çš„æ‰§è¡Œç»“æœ</li><li>å­æŸ¥è¯¢æ ¹æ®æŸ¥è¯¢ç»“æœçš„è¡Œæ•°ä¸åŒåˆ†ä¸ºä»¥ä¸‹ä¸¤ç±»ï¼š<ol><li>å•è¡Œå­æŸ¥è¯¢<ul><li>ä¸€èˆ¬ç»“æœé›†åªæœ‰ä¸€è¡Œ</li><li>ä¸€èˆ¬æ­é…å•è¡Œæ“ä½œç¬¦ä½¿ç”¨ï¼š&gt; &lt; = &lt;&gt; &gt;= &lt;=</li><li>éæ³•ä½¿ç”¨å­æŸ¥è¯¢çš„æƒ…å†µ<ul><li>å­æŸ¥è¯¢çš„ç»“æœä¸ºä¸€ç»„å€¼</li><li>å­æŸ¥è¯¢çš„ç»“æœä¸ºç©º</li></ul></li></ul></li><li>å¤šè¡Œå­æŸ¥è¯¢<ul><li>ç»“æœé›†æœ‰å¤šè¡Œ</li><li>ä¸€èˆ¬æ­é…å¤šè¡Œæ“ä½œç¬¦ä½¿ç”¨ï¼šandã€allã€inã€not in</li><li>inï¼šå±äºå­æŸ¥è¯¢ç»“æœä¸­çš„ä»»æ„ä¸€ä¸ªå°±è¡Œï¼Œanyå’Œallå¾€å¾€å¯ä»¥ç”¨å…¶ä»–æŸ¥è¯¢ä»£æ›¿</li></ul></li></ol></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    *</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    mytable1</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">    col1 </span><br><span class="line"><span class="keyword">IN</span>  </span><br><span class="line">    (<span class="keyword">SELECT</span></span><br><span class="line">        col2</span><br><span class="line">    <span class="keyword">FROM</span>    </span><br><span class="line">        mytable2);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„è¯­å¥å¯ä»¥æ£€ç´¢å‡ºå®¢æˆ·çš„è®¢å•æ•°é‡ï¼Œå­æŸ¥è¯¢è¯­å¥ä¼šå¯¹ç¬¬ä¸€ä¸ªæŸ¥è¯¢æ£€ç´¢å‡ºçš„æ¯ä¸ªå®¢æˆ·æ‰§è¡Œä¸€æ¬¡ï¼š<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> cust_name, (<span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*)</span><br><span class="line">                   <span class="keyword">FROM</span> Orders</span><br><span class="line">                   <span class="keyword">WHERE</span> Orders.cust_id = Customers.cust_id)</span><br><span class="line">                   <span class="keyword">AS</span> orders_num</span><br><span class="line"><span class="keyword">FROM</span> Customers</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> cust_name;</span><br></pre></td></tr></table></figure></p><h4 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h4><p>å®é™…çš„webé¡¹ç›®ä¸­éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚æäº¤å¯¹åº”çš„åˆ†é¡µæŸ¥è¯¢çš„sqlè¯­å¥</p><p>è¯­æ³•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    column1,....</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">    è¡¨</span><br><span class="line">ã€<span class="keyword">WHERE</span> æ¡ä»¶ã€‘</span><br><span class="line">ã€<span class="keyword">GROUP</span> <span class="keyword">BY</span> åˆ†ç»„å­—æ®µã€‘</span><br><span class="line">ã€<span class="keyword">HAVING</span> æ¡ä»¶ã€‘</span><br><span class="line">ã€<span class="keyword">ORDER</span> <span class="keyword">BY</span> æ’åºçš„å­—æ®µã€‘</span><br><span class="line"><span class="keyword">limit</span>   ã€å…¶å®çš„æ¡ç›®ç´¢å¼•ã€‘æ¡ç›®æ•°ï¼›</span><br></pre></td></tr></table></figure><p>ç‰¹ç‚¹</p><ul><li>èµ·å§‹æ¡ç›®ç´¢å¼•ä» 0 å¼€å§‹</li><li>limit å­å¥æ”¾åœ¨æŸ¥è¯¢è¯­å¥çš„æœ€å</li><li>å…¬å¼ï¼šSELECT <em> FROM LIMIT (page - 1) </em> sizePerPageï¼ŒsiezPerPage</li></ul><p>å‡å¦‚ï¼š<br>æ¯é¡µæ˜¾ç¤ºæ¡ç›®æ•°ï¼šsizePerPage<br>è¦æ˜¾ç¤ºçš„é¡µæ•° page</p><h4 id="è”åˆæŸ¥è¯¢"><a href="#è”åˆæŸ¥è¯¢" class="headerlink" title="è”åˆæŸ¥è¯¢"></a>è”åˆæŸ¥è¯¢</h4><p>ä½¿ç”¨ UNION æ¥ç»„åˆä¸¤ä¸ªæŸ¥è¯¢ï¼Œå¦‚æœç¬¬ä¸€ä¸ªæŸ¥è¯¢è¿”å› M è¡Œï¼Œç¬¬äºŒä¸ªæŸ¥è¯¢è¿”å› N è¡Œï¼Œé‚£ä¹ˆç»„åˆæŸ¥è¯¢çš„ç»“æœä¸€èˆ¬ä¸º M+N è¡Œã€‚</p><p>æ¯ä¸ªæŸ¥è¯¢å¿…é¡»åŒ…å«ç›¸åŒçš„åˆ—ã€è¡¨è¾¾å¼å’Œèšé›†å‡½æ•°ã€‚</p><p>é»˜è®¤ä¼šå»é™¤ç›¸åŒè¡Œï¼Œå¦‚æœéœ€è¦ä¿ç•™ç›¸åŒè¡Œï¼Œä½¿ç”¨ UNION ALLã€‚</p><p>åªèƒ½åŒ…å«ä¸€ä¸ª ORDER BY å­å¥ï¼Œå¹¶ä¸”å¿…é¡»ä½äºè¯­å¥çš„æœ€åã€‚<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">col</span></span><br><span class="line"><span class="keyword">FROM</span> mytable</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">col</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">col</span></span><br><span class="line"><span class="keyword">FROM</span> mytable</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">col</span> =<span class="number">2</span>;</span><br></pre></td></tr></table></figure></p><p>ç‰¹ç‚¹ï¼š<br>    1ã€å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„åˆ—æ•°å¿…é¡»æ˜¯ä¸€è‡´çš„<br>    2ã€å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„åˆ—çš„ç±»å‹å‡ ä¹ç›¸åŒ<br>    3ã€unionä»£è¡¨å»é‡ï¼Œunion allä»£è¡¨ä¸å»é‡</p><h3 id="DMLè¯­è¨€"><a href="#DMLè¯­è¨€" class="headerlink" title="DMLè¯­è¨€"></a>DMLè¯­è¨€</h3><h4 id="æ’å…¥"><a href="#æ’å…¥" class="headerlink" title="æ’å…¥"></a>æ’å…¥</h4><p>æ™®é€šæ’å…¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytable(col1,col2)</span><br><span class="line"><span class="keyword">VALUES</span>(val1,val2)</span><br></pre></td></tr></table></figure><p>æ’å…¥æ£€ç´¢å‡ºæ¥çš„æ•°æ®<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> mytable1(col1, col2)</span><br><span class="line"><span class="keyword">SELECT</span> col1, col2</span><br><span class="line"><span class="keyword">FROM</span> mytable2;</span><br></pre></td></tr></table></figure></p><p>å°†ä¸€ä¸ªè¡¨çš„å†…å®¹æ’å…¥åˆ°ä¸€ä¸ªæ–°è¡¨<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> newtable <span class="keyword">AS</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> mytable;</span><br></pre></td></tr></table></figure></p><h4 id="ä¿®æ”¹"><a href="#ä¿®æ”¹" class="headerlink" title="ä¿®æ”¹"></a>ä¿®æ”¹</h4><p>æ·»åŠ åˆ—<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> mytable</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">col</span> <span class="built_in">CHAR</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤åˆ—<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> mytable</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="keyword">col</span>ï¼›</span><br></pre></td></tr></table></figure></p><h4 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UPDATE</span>  mytable</span><br><span class="line"><span class="keyword">SET</span> <span class="keyword">col</span> = val</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><h4 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> mytable</span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">1</span>;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ›´æ–°å’Œåˆ é™¤æ“ä½œæ—¶ä¸€å®šè¦ç”¨ WHERE å­å¥ï¼Œä¸ç„¶ä¼šæŠŠæ•´å¼ è¡¨çš„æ•°æ®éƒ½ç ´åã€‚å¯ä»¥å…ˆç”¨ SELECT è¯­å¥è¿›è¡Œæµ‹è¯•ï¼Œé˜²æ­¢é”™è¯¯åˆ é™¤ã€‚</p><h3 id="DDLè¯­å¥"><a href="#DDLè¯­å¥" class="headerlink" title="DDLè¯­å¥"></a>DDLè¯­å¥</h3><h4 id="åº“å’Œè¡¨çš„ç®¡ç†"><a href="#åº“å’Œè¡¨çš„ç®¡ç†" class="headerlink" title="åº“å’Œè¡¨çš„ç®¡ç†"></a>åº“å’Œè¡¨çš„ç®¡ç†</h4><p>åˆ›å»ºåº“</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> åº“å</span><br></pre></td></tr></table></figure><p>åˆ›å»ºè¡¨<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [<span class="keyword">IF</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] mytable(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">    col1 <span class="built_in">INT</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="number">1</span>,</span><br><span class="line">    col2 <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span>,</span><br><span class="line">    col3 <span class="built_in">DATE</span> <span class="literal">NULL</span>,</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span> (<span class="string">`id`</span>));</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p><h4 id="å¸¸è§çº¦æŸ"><a href="#å¸¸è§çº¦æŸ" class="headerlink" title="å¸¸è§çº¦æŸ"></a>å¸¸è§çº¦æŸ</h4><ul><li>NOT NULL</li><li>DEFAULT</li><li>UNIQUE</li><li>CHECK</li><li>PRIMARY KEY</li><li>FOREIGN KEY</li></ul><h2 id="æ•°æ®åº“äº‹åŠ¡"><a href="#æ•°æ®åº“äº‹åŠ¡" class="headerlink" title="æ•°æ®åº“äº‹åŠ¡"></a>æ•°æ®åº“äº‹åŠ¡</h2><h4 id="äº‹ç‰©çš„ACIDå±æ€§"><a href="#äº‹ç‰©çš„ACIDå±æ€§" class="headerlink" title="äº‹ç‰©çš„ACIDå±æ€§"></a>äº‹ç‰©çš„ACIDå±æ€§</h4><ol><li>åŸå­æ€§(Atomicity)<br>äº‹åŠ¡è¢«è§†ä¸ºä¸å¯åˆ†å‰²çš„æœ€å°å•å…ƒï¼Œäº‹åŠ¡çš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨æäº¤æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥å›æ»šã€‚<blockquote><p>å›æ»šå¯ä»¥åˆ©ç”¨å›æ»šæ—¥å¿—æ¥å®ç°ï¼Œå›æ»šæ—¥å¿—è®°å½•è€…æ‰€æ‰§è¡Œçš„ä¿®æ”¹æ“ä½œï¼Œåœ¨å›æ»šæ—¶åå‘æ‰§è¡Œè¿™äº›æ“ä½œå³å¯ã€‚</p></blockquote></li><li><p>ä¸€è‡´æ€§(Consistency)<br>æ•°æ®åº“åœ¨äº‹åŠ¡æ‰§è¡Œå‰åéƒ½ä¿æŒä¸€è‡´æ€§çŠ¶æ€ã€‚åœ¨ä¸€è‡´æ€§çŠ¶æ€ä¸‹ï¼Œæ‰€æœ‰äº‹åŠ¡å¯¹ä¸€ä¸ªæ•°æ®çš„è¯»å–ç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p></li><li><p>éš”ç¦»æ€§(lsolation)<br>ä¸€ä¸ªäº‹åŠ¡æ‰€åšçš„ä¿®æ”¹æœ€ç»ˆåœ¨æäº¤ä»¥å‰ï¼Œå¯¹å…¶ä»–äº‹åŠ¡æ—¶ä¸å¯è§çš„ã€‚</p><ol><li>æŒä¹…æ€§(Durablility)<br>ä¸€æ—¦äº‹åŠ¡æäº¤ï¼Œåˆ™å…¶æ‰€ä½œçš„ä¿®æ”¹ä¼šæ°¸è¿œä¿å­˜åˆ°æ•°æ®åº“ä¸­ï¼Œå³ä½¿ç³»ç»Ÿå‘ç”Ÿå´©æºƒï¼Œäº‹åŠ¡æ‰§è¡Œçš„ç»“æœä¹Ÿä¸èƒ½ä¸¢å¤±ã€‚</li></ol><hr><p>äº‹åŠ¡çš„ACIDç‰¹æ€§æ¦‚å¿µç®€å•ï¼Œå¤§æ€’æ˜¯å¾ˆå¥½ç†è§£ï¼Œåªè¦æ˜¯å› ä¸ºè¿™å‡ ä¸ªç‰¹æ–°ä¸æ˜¯ä¸€ç§å¹³çº§å…³ç³»ï¼š</p><ul><li>åªæœ‰æ»¡è¶³ä¸€è‡´æ€§ï¼Œäº‹åŠ¡çš„æ‰§è¡Œç»“æœæ‰æ˜¯æ­£ç¡®çš„ã€‚</li><li>åœ¨æ— å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œäº‹åŠ¡ä¸²è¡Œæ‰§è¡Œï¼Œéš”ç¦»æ€§ä¸€å®šèƒ½å¤Ÿæ»¡è¶³ã€‚æ­¤æ—¶åªè¦æ»¡è¶³åŸå­æ€§ï¼Œå°±ä¸€å®šèƒ½æ»¡è¶³ä¸€è‡´æ€§ã€‚</li><li>åœ¨å¹¶å‘çš„æƒ…å†µä¸‹ï¼Œå¤šä¸ªäº‹åŠ¡å¹¶è¡Œæ‰§è¡Œï¼Œäº‹åŠ¡ä¸ä»…è¦æ»¡è¶³åŸå­æ€§ï¼Œè¿˜éœ€è¦æ»¡å¾éš”ç¦»æ€§ï¼Œæ‰èƒ½æ»¡è¶³ä¸€è‡´æ€§ã€‚</li><li>äº‹åŠ¡æ»¡è¶³æŒä¹…è¯æ˜¯ä¸ºäº†èƒ½å¤Ÿåº”å¯¹æ•°æ®å›°å´©æºƒçš„æƒ…å†µã€‚<br><img src="acid.png" alt="acid"></li></ul></li></ol><h4 id="1-AUTOCOMMIT"><a href="#1-AUTOCOMMIT" class="headerlink" title="1 AUTOCOMMIT"></a>1 AUTOCOMMIT</h4><p>MySQLé»˜è®¤é‡‡ç”¨è‡ªåŠ¨æäº¤æ¨¡å¼ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸æ˜¾ç¤ºä½¿ç”¨<code>START TRANSACTION</code> è¯­å¥æ¥å¼€å§‹ä¸€ä¸ªäº‹åŠ¡ï¼Œé‚£ä¹ˆæ¯ä¸ªæŸ¥è¯¢éƒ½ä¼šè¢«å½“ä½œä¸€ä¸ªäº‹åŠ¡è‡ªåŠ¨æäº¤</p><h4 id="å¹¶å‘ä¸€è‡´æ€§é—®é¢˜"><a href="#å¹¶å‘ä¸€è‡´æ€§é—®é¢˜" class="headerlink" title="å¹¶å‘ä¸€è‡´æ€§é—®é¢˜"></a>å¹¶å‘ä¸€è‡´æ€§é—®é¢˜</h4><p>åœ¨å¹¶å‘ç¯å¢ƒä¸‹ï¼Œäº‹åŠ¡çš„éš”ç¦»æ€§å¾ˆéš¾ä¿è¯ï¼Œä¹Ÿå› æ­¤ä¼šå‡ºç°å¾ˆå¤šå¹¶å‘ä¸€è‡´æ€§é—®é¢˜ã€‚</p><h5 id="ä¸¢å¤±ä¿®æ”¹"><a href="#ä¸¢å¤±ä¿®æ”¹" class="headerlink" title="ä¸¢å¤±ä¿®æ”¹"></a>ä¸¢å¤±ä¿®æ”¹</h5><p>T1å’ŒT2ä¸¤ä¸ªäº‹åŠ¡éƒ½å¯¹ä¸€ä¸ªæ•°æ®æƒŠé†’ä¿®æ”¹ï¼ŒT1å…ˆä¿®æ”¹ï¼ŒT2éšåä¿®æ”¹ï¼ŒT2çš„ä¿®æ”¹è¦†ç›–äº†T1çš„ä¿®æ”¹<br><img src="fugai.png" alt="fugai"></p><h5 id="è„æ•°æ®"><a href="#è„æ•°æ®" class="headerlink" title="è„æ•°æ®"></a>è„æ•°æ®</h5><p>T1ä¿®æ”¹ä¸€ä¸ªæ•°æ®ï¼ŒT2éšåè¯»å–è¿™ä¸ªæ•°æ®ã€‚å¦‚æœT1æ’¤é”€äº†è¿™æ¬¡ä¿®æ”¹ï¼Œé‚£ä¹ˆT2è¯»å–çš„æ•°æ®å°±æ˜¯è„æ•°æ®<br><img src="zangdu.png" alt="zangdu"></p><h5 id="ä¸å¯é‡å¤è¯»"><a href="#ä¸å¯é‡å¤è¯»" class="headerlink" title="ä¸å¯é‡å¤è¯»"></a>ä¸å¯é‡å¤è¯»</h5><p>T2è¯»å–ä¸€ä¸ªæ•°æ®ï¼ŒT1å¯¹è¯¥æ•°æ®åšäº†ä¿®æ”¹ã€‚å¦‚æœT2å†æ¬¡è¯»å–è¿™ä¸ªæ•°æ®ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒ<br><img src="bukechongfu1.png" alt="bukechongfu"></p><h5 id="å¹»å½±è¯»"><a href="#å¹»å½±è¯»" class="headerlink" title="å¹»å½±è¯»"></a>å¹»å½±è¯»</h5><p>T1è¯»å–æŸä¸ªèŒƒå›´çš„æ•°æ®ï¼ŒT2å†è¿™ä¸ªèŒƒå›´å†…æ’å…¥æ–°çš„æ•°æ®ï¼ŒT1å†æ¬¡è¯»å–è¿™ä¸ªèŒƒå›´çš„æ•°æ®ï¼Œæ­¤æ—¶è¯»å–çš„ç»“æœå’Œç¬¬ä¸€æ¬¡è¯»å–çš„ç»“æœä¸åŒã€‚<br><img src="huanying.png" alt="bukechongfu"></p><hr><p>äº§ç”Ÿå¹¶å‘ä¸ä¸€è‡´æ€§é—®é¢˜ä¸»è¦åŸå› æ˜¯ç ´åäº†äº‹åŠ¡çš„éš”ç¦»æ€§ï¼Œç»“å±€æ–¹æ³•æ˜¯é€šè¿‡å¹¶å‘æ§åˆ¶æ¥ä¿è¯éš”ç¦»æ€§ã€‚å¹¶å‘æ§åˆ¶é€šè¿‡å°é”æ¥å®ç°ï¼Œä½†æ˜¯å°é”æ“ä½œéœ€è¦ç”¨æˆ·è‡ªå·±æ§åˆ¶ï¼Œç›¸å½“å¤æ‚ã€‚æ•°æ®ç®¡ç†ç³»ç»Ÿæä¾›äº†äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œè®©ç”¨æˆ·ä»¥ä¸€ç§æ›´è½»æ¾çš„æ–¹å¼å¤„ç†å¹¶å‘ä¸€è‡´æ€§é—®é¢˜ã€‚</p><h3 id="å°é”"><a href="#å°é”" class="headerlink" title="å°é”"></a>å°é”</h3><h4 id="å°é”ç²’åº¦"><a href="#å°é”ç²’åº¦" class="headerlink" title="å°é”ç²’åº¦"></a>å°é”ç²’åº¦</h4><p>MySqlä¸­æä¾›äº†ä¸¤ç§å°é”ç²’åº¦ï¼š<strong>è¡Œçº§é”å’Œè¡¨çº§é”</strong><br>åº”è¯¥å°½é‡é”å®šéœ€è¦ä¿®æ”¹çš„é‚£éƒ¨åˆ†æ•°æ®ï¼Œè€Œä¸æ˜¯æ‰€æœ‰çš„èµ„æºã€‚é”å®šçš„æ•°æ®é‡è¶Šå°‘ï¼Œå‘ç”Ÿé”äº‰ç”¨çš„å¯èƒ½å°±è¶Šå°ï¼Œç³»ç»Ÿçš„å¹¶å‘ç¨‹åº¦å°±è¶Šé«˜ã€‚</p><p>ä½†æ˜¯åŠ é”éœ€è¦æ¶ˆè€—èµ„æºï¼Œé”çš„å„ç§æ“ä½œ(åŒ…æ‹¬è·å–é”ã€é‡Šæ”¾é”ã€ä»¥åŠæ£€æŸ¥é”çŠ¶æ€)éƒ½ä¼šå¢åŠ ç³»ç»Ÿå¼€é”€ã€‚å› æ­¤å°é”ç²’åº¦è¶Šå°ï¼Œç³»ç»Ÿå¼€é”€å¼€é”€å°±è¶Šå¤§ã€‚</p><h4 id="å°é”ç±»å‹"><a href="#å°é”ç±»å‹" class="headerlink" title="å°é”ç±»å‹"></a>å°é”ç±»å‹</h4><ol><li>è¯»å†™é”<ul><li>æ’å®ƒé”(Exclusive),ç®€å†™ä¸ºXé”ï¼Œåˆç§°å†™é”</li><li>å…±äº«é”(Shared),ç®€ç§°ä¸ºSé”ï¼Œåˆç§°è¯»é”</li></ul></li></ol><p>æœ‰ä»¥ä¸‹ä¸¤ä¸ªè§„å®šï¼š</p><ul><li>ä¸€ä¸ªäº‹åŠ¡å¯¹æ•°æ®å¯¹è±¡AåŠ äº†Xé”ï¼Œå°±å¯ä»¥å¯¹Aè¿›è¡Œè¯»å–å’Œæ›´æ–°ã€‚åŠ é”æœŸé—´å…¶å®ƒäº‹åŠ¡ä¸èƒ½å¯¹AåŠ ä»»ä½•é”ã€‚</li><li>ä¸€ä¸ªäº‹åŠ¡å¯¹æ•°æ®å¯¹è±¡AåŠ äº†Sé”ï¼Œå¯ä»¥å¯¹Aè¿›è¡Œè¯»å–æ“ä½œï¼Œä½†ä¸èƒ½è¿›è¡Œæ›´æ–°æ“ä½œã€‚åŠ é”æœŸé—´å…¶ä»–äº‹åŠ¡èƒ½å¯¹AåŠ Sé”ï¼Œä½†æ˜¯ä¸èƒ½åŠ Xé”ã€‚</li></ul><p>é”çš„å…¼å®¹å…³ç³»å¦‚ä¸‹</p><div class="table-container"><table><thead><tr><th>-</th><th>X</th><th>S</th></tr></thead><tbody><tr><td>X</td><td>x</td><td>x</td></tr><tr><td>S</td><td>x</td><td>âˆš</td></tr></tbody></table></div><ol><li>æ„å‘é”<br>ä½¿ç”¨æ„å‘é”(Intention Locks)å¯ä»¥æ›´å®¹æ˜“åœ°æ”¯æŒå¤šç²’åº¦å°é”</li></ol><p>å†å­˜åœ¨è¡Œçº§é”å’Œè¡¨çº§é”çš„æƒ…å†µä¸‹ï¼Œäº‹åŠ¡Tæƒ³è¦å¯¹è¡¨Aä¸­çš„ä»»æ„ä¸€è¡ŒåŠ äº†é”ï¼Œé‚£ä¹ˆå°±éœ€è¦å¯¹è¡¨Açš„æ¯ä¸€è¡Œéƒ½æ£€æµ‹ä¸€æ¬¡ï¼Œè¿™æ˜¯éå¸¸è€—æ—¶çš„ã€‚</p><p>æ„å‘é”å†åŸæ¥çš„X/Sé”ä¸Šå¼•å…¥äº†IX/ISï¼ŒIX/ISéƒ½æ˜¯è¡¨é”ï¼Œç”¨æ¥è¡¨ç¤ºä¸€ä¸ªäº‹åŠ¡æƒ³è¦å†è¡¨ä¸­çš„æŸä¸ªæ•°æ®è¡ŒåŠ ä¸ŠXé”æˆ–Sé”ã€‚æœ‰ä»¥ä¸‹ä¸¤ä¸ªè§„å®šï¼š</p><ul><li>ä¸€ä¸ªäº‹åŠ¡å†è·å¾—æŸä¸ªæ•°æ®å¯¹è±¡çš„Sé”ä¹‹å‰ï¼Œå¿…é¡»ç°è´§çš„è¡¨çš„ISé”æˆ–è€…æ›´å¼ºçš„é”ï¼›</li><li>ä¸€ä¸ªäº‹åŠ¡å†è·å¾—æ•°æ®å¯¹è±¡çš„Xé”ä¹‹å‰ï¼Œå¿…é¡»å…ˆè·å¾—è¡¨çš„IXé”ã€‚</li></ul><p>é€šè¿‡å¼•å…¥æ„å‘é”ï¼Œäº‹åŠ¡Tæƒ³è¦å¯¹è¡¨AåŠ Xé”ï¼Œåªéœ€è¦å…ˆæ£€æµ‹æ˜¯å¦æœ‰å…¶ä»–äº‹åŠ¡å¯¹è¡¨AåŠ äº†X/IX/ISé”ï¼Œå¦‚æœåŠ äº†å°±è¡¨ç¤ºæœ‰å…¶ä»–äº‹åŠ¡è¯å­—å•Šä½¿ç”¨è¿™ä¸ªè¡¨æˆ–è€…è¡¨ä¸­çš„æŸä¸€è¡Œçš„é”ï¼Œå› æ­¤äº‹åŠ¡TåŠ Xé”å¤±è´¥</p><p>å„ç§é”çš„å…¼å®¹å…³ç³»å¦‚ä¸‹ï¼š</p><div class="table-container"><table><thead><tr><th>-</th><th>X</th><th>IX</th><th>S</th><th>IS</th></tr></thead><tbody><tr><td>X</td><td>x</td><td>x</td><td>x</td><td>x</td></tr><tr><td>IX</td><td>x</td><td>âˆš</td><td>x</td><td>âˆš</td></tr><tr><td>S</td><td>x</td><td>x</td><td>âˆš</td><td>âˆš</td></tr><tr><td>IS</td><td>x</td><td>âˆš</td><td>âˆš</td><td>âˆš</td></tr></tbody></table></div><p>è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li>çƒ­è®®IS/IXé”ä¹‹é—´éƒ½æ˜¯å…¼å®¹çš„ï¼Œå› ä¸ºå®ƒä»¬çŸ¥è¯†è¡¨ç¤ºæƒ³è¦å¯¹è¡¨åŠ é”ï¼Œè€Œä¸æ˜¯çœŸæ­£åŠ é”ï¼›</li><li>Sé”åªä¸ISé”å…¼å®¹ï¼Œä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡Tæƒ³è¦å¯¹æ•°æ®åŠ Sé”ï¼Œå…¶ä»–äº‹åŠ¡å¯ä»¥è·å¾—å¯¹è¡¨æˆ–è€…è¡¨ä¸­çš„è¡Œçš„Sé”ã€‚</li></ul><h4 id="å°é”åè®®"><a href="#å°é”åè®®" class="headerlink" title="å°é”åè®®"></a>å°é”åè®®</h4><p>åœ¨è¦è¿ç”¨Xé”å’ŒSé”å¯¹æ•°æ®å¯¹è±¡åŠ é”æ—¶ï¼Œè¿˜éœ€è¦çº¦å®šä¸€äº›è§„åˆ™ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>å°é”åè®®</strong></p><h5 id="ä¸€çº§å°é”åè®®"><a href="#ä¸€çº§å°é”åè®®" class="headerlink" title="ä¸€çº§å°é”åè®®"></a>ä¸€çº§å°é”åè®®</h5><p>äº‹åŠ¡Tè¦ä¿®æ”¹æ•°æ®Aæ—¶å¿…é¡»åŠ Xé”ï¼Œç›´åˆ°Tç»“æŸæ‰é‡Šæ”¾é”</p><p>å¯ä»¥è§£å†³ä¸¢å¤±ä¿®æ”¹é—®é¢˜ï¼Œå› ä¸ºä¸èƒ½åŒæ—¶æœ‰ä¸¤ä¸ªäº‹åŠ¡å¯¹åŒä¸€ä¸ªæ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œå“ªä¸ªäº‹åŠ¡çš„ä¿®æ”¹å°±ä¸ä¼šè¢«è¦†ç›–ã€‚</p><div class="table-container"><table><thead><tr><th>T1</th><th>T2</th></tr></thead><tbody><tr><td>lock-x(A)</td><td></td></tr><tr><td>read A = 20</td><td></td></tr><tr><td></td><td>lock-x(A)</td></tr><tr><td></td><td>wait</td></tr><tr><td>write A=19</td><td></td></tr><tr><td>commit</td><td></td></tr><tr><td>unlock-x(A)</td><td></td></tr><tr><td></td><td>obtain</td></tr><tr><td></td><td>read A=19</td></tr><tr><td></td><td>write A=21</td></tr><tr><td></td><td>commit</td></tr><tr><td></td><td>unlock-x(A)</td></tr></tbody></table></div><h5 id="äºŒçº§å°é”åè®®"><a href="#äºŒçº§å°é”åè®®" class="headerlink" title="äºŒçº§å°é”åè®®"></a>äºŒçº§å°é”åè®®</h5><p>åœ¨ä¸€çº§çš„åŸºç¡€ä¸Šï¼Œè¦æ±‚è¯»å–æ•°æ®Aæ—¶å¿…é¡»jiaSé”ï¼Œè¯»å–å®Œé©¬ä¸Šé‡Šæ”¾Sé”</p><p>å¯ä»¥è§£å†³è¯»è„æ•°æ®é—®é¢˜ï¼Œå› ä¸ºä¸€ä¸ªäº‹åŠ¡åœ¨å¯¹æ•°æ®Aè¿›è¡Œä¿®æ”¹ï¼Œæ ¹æ®1çº§å°é”åè®®ï¼Œä¼šåŠ Xé”ï¼Œé‚£ä¹ˆå°±ä¸èƒ½å†åŠ Sé”äº†ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šè¯»å…¥æ•°æ®</p><div class="table-container"><table><thead><tr><th>T1</th><th>T2</th></tr></thead><tbody><tr><td>lock-x(A)</td><td></td></tr><tr><td>read A=20</td><td></td></tr><tr><td>write A=19</td><td></td></tr><tr><td></td><td>lock-s(A)</td></tr><tr><td></td><td>wait</td></tr><tr><td>rollback</td><td></td></tr><tr><td>A=20</td><td></td></tr><tr><td>unlock-x(A)</td><td></td></tr><tr><td></td><td>obtain</td></tr><tr><td></td><td>read A=20</td></tr><tr><td></td><td>unlock-s(A)</td></tr><tr><td></td><td>commit</td></tr></tbody></table></div><h5 id="ä¸‰çº§å°é”åè®®"><a href="#ä¸‰çº§å°é”åè®®" class="headerlink" title="ä¸‰çº§å°é”åè®®"></a>ä¸‰çº§å°é”åè®®</h5><p>åœ¨ä¸€çº§çš„åŸºç¡€ä¸Šï¼Œè¦æ±‚è¯»æ•°æ®Aæ—¶å¿…é¡»åŠ Sé”ï¼Œç›´åˆ°äº‹åŠ¡ç»“æŸäº†æ‰èƒ½é‡Šæ”¾Sé”ã€‚å¯ä»¥è§£å†³ä¸å¯é‡å¤åº¦çš„é—®é¢˜ï¼Œå› ä¸ºè¯»Aæ—¶ï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å¯¹AåŠ Xé”ï¼Œä»è€Œç¬”è¿·æ‹¿äº†åœ¨è¯»çš„æœŸé—´æ•°æ®å‘ç”Ÿå˜åŒ–</p><div class="table-container"><table><thead><tr><th>T1</th><th>T2</th></tr></thead><tbody><tr><td>lock-s(A)</td><td></td></tr><tr><td>read A=20</td><td></td></tr><tr><td></td><td>lock-x(A)</td></tr><tr><td></td><td>wait</td></tr><tr><td>read A=20</td><td></td></tr><tr><td>commit</td><td></td></tr><tr><td>unlock-s(A)</td><td></td></tr><tr><td></td><td>obtain</td></tr><tr><td></td><td>read A=20</td></tr><tr><td></td><td>write A=19</td></tr><tr><td></td><td>commit</td></tr><tr><td></td><td>unlock-X(A)</td></tr></tbody></table></div><blockquote><p>ä¸Šè¿°ä¸‰çº§åè®®çš„ä¸»è¦åŒºåˆ«åœ¨äºä»€ä¹ˆæ“ä½œéœ€è¦ç”³è¯·å°é”ï¼Œä»¥åŠä½•æ—¶é‡Šæ”¾é”</p></blockquote><h4 id="ä¸¤æ®µé”åè®®"><a href="#ä¸¤æ®µé”åè®®" class="headerlink" title="ä¸¤æ®µé”åè®®"></a>ä¸¤æ®µé”åè®®</h4><p>åŠ é”å’Œè§£é”åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µè¿›è¡Œ</p><p>å¯ä¸²è¡ŒåŒ–è°ƒåº¦å®¤æŒ‡ï¼Œé€šè¿‡å¹¶å‘æ§åˆ¶ï¼Œä½¿å¾—å¹¶å‘æ‰§è¡Œçš„äº‹åŠ¡ç»“æœä¸æŸä¸ªä¸²è¡Œæ‰§è¡Œçš„äº‹åŠ¡ç»“æœç›¸åŒã€‚</p><p>äº‹åŠ¡éµå¾ªä¸¤æ®µé”åè®®æ˜¯ä¿è¯å¯ä¸²è¡ŒåŒ–è°ƒåº¦çš„å……åˆ†æ¡ä»¶ã€‚ä¾‹å¦‚ä»¥ä¸‹æ“ä½œæ»¡è¶³ä¸¤æ®µé”åè®®ï¼Œå®ƒæ˜¯å¯ä¸²è¡Œè¯è°ƒåº¦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lock-x(A)...lock-s(B)...lock-s(C)...unlock(A)...unlock(C)...unlock(B)</span><br></pre></td></tr></table></figure></p><p>ä½†ä¸æ˜¯å¿…è¦æ¡ä»¶ï¼Œä¾‹å¦‚å¦‚ä¸‹æ“ä½œä¸æ»¡è¶³ä¸¤æ®µé”åè®®ï¼Œä½†æ˜¯ä»–è¿˜æ˜¯å¯ä¸²è¡ŒåŒ–è°ƒåº¦ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lock-x(A)...unlock(A)...lock-s(B)...unlock(B)...lock-s(C)...unlock(C)</span><br></pre></td></tr></table></figure></p><h4 id="MySQLéšå¼ä¸æ˜¾ç¤ºé”å®š"><a href="#MySQLéšå¼ä¸æ˜¾ç¤ºé”å®š" class="headerlink" title="MySQLéšå¼ä¸æ˜¾ç¤ºé”å®š"></a>MySQLéšå¼ä¸æ˜¾ç¤ºé”å®š</h4><p>MySQLçš„InnoDBå­˜å‚¨å¼•æ“é‡‡ç”¨ä¸¤æ®µé”åè®®ï¼Œä¼šæ ¹æ®éš”ç¦»çº§åˆ«åœ¨æ‰€éœ€è¦çš„æ—¶å€™è‡ªåŠ¨åŠ é”ï¼Œå¹¶ä¸”æ‰€æœ‰çš„é”éƒ½æ˜¯åœ¨åŒä¸€æ—¶åˆ»è¢«é‡Šæ”¾ï¼Œè¿™è¢«ç§°ä¸ºéšå¼é”å®š</p><p>InnoDBä¹Ÿå¯ä»¥ä½¿ç”¨ç‰¹å®šçš„è¯­å¥è¿›è¡Œæ˜¾ç¤ºé”å®š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT ... LOCK In SHARE MODE;</span><br><span class="line">SELECT ... FOR UPDATE;</span><br></pre></td></tr></table></figure></p><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><h2 id="ç´¢å¼•æ˜¯ä»€ä¹ˆ"><a href="#ç´¢å¼•æ˜¯ä»€ä¹ˆ" class="headerlink" title="ç´¢å¼•æ˜¯ä»€ä¹ˆ"></a>ç´¢å¼•æ˜¯ä»€ä¹ˆ</h2><p>ç´¢å¼•æ˜¯ä¸ºäº†åŠ é€Ÿå¯¹è¡¨ä¸­æ•°æ®è¡Œçš„æ£€ç´¢è€Œåˆ›å»ºçš„ä¸€ç§åˆ†æ•£å­˜å‚¨çš„<strong>æ•°æ®ç»“æ„</strong></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Mysql </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
